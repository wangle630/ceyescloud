
<%- include header %>
<script type="text/javascript" src="/javascripts/validForm/Validform_v5.3.2_min.js"></script>

<script type="text/javascript">
    $(function(){
        var demo=$("#regForm").Validform({//指明是哪一表单需要验证,名称需加在form表单上;
            tiptype:4,
            label:".label",
            showAllError:true,
            datatype:{
                "zh1-6":/^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/,
                "Aa1":/^[A-Za-z0-9]+$/
            }
        });

        //通过$.Tipmsg扩展默认提示信息;
        //$.Tipmsg.w["zh1-6"]="请输入1到6个中文字符！";
        demo.tipmsg.w["zh1-6"]="请输入1到6个中文字符！";//可以自定义一些消息提示,zh1-6是自定义的datatype

        demo.addRule([{
            ele: "#name",
            datatype: "*6-16",
            ajaxurl:"/reg/existsName"
        },{
            ele: "#email",
            datatype: "e",
            ajaxurl:"/reg/existsEmail"
        },
            {
                ele:".inputxt:eq(1)",
                datatype:"*6-20"
            },
            {
                ele:".inputxt:eq(2)",
                datatype:"*6-20",
                recheck:"userpassword"
            }
        ]);
    })
</script>

<div class="container" style="margin-left: auto;margin-right: auto;">
        <div class="col-md-5 1col-md-offset-1">
            <div class="panel login-panel  panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">请注册</h3>
                </div>
                <div class="panel-body">
                    <%- include flash %>
                    <form role="form" class="form-horizontal" method="post" id="regForm">
                        <fieldset>
                            <div class="form-group">
                                <label  class="col-sm-3 control-label">用户名:</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="name"  placeholder="用户名" datatype="*6-16"  name="name" maxlength="30" >
                                </div>
                            </div>
                            <div class="form-group">
                                <label  class="col-sm-3 control-label">密码:</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control"  placeholder="密码" name="password" datatype="*6-16" maxlength="30">
                                </div>
                            </div>
                            <div class="form-group">
                                <label  class="col-sm-3 control-label">确认密码:</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" placeholder="确认密码" name="password-repeat" datatype="*" recheck="password" maxlength="30"/>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label">邮箱:</label>
                                <div class="col-sm-9">
                                    <input type="email" class="form-control" id="email" placeholder="邮箱" name="email" datatype="e">
                                </div>
                            </div>
                            <hr />
                            <button type="submit" class="btn btn-primary btn-block" id="btn_sub">注册</button>
                        </fieldset>
                    </form>
                    <hr />
                    <a href="/login">去登录</a>
                </div>
            </div>
            </div>
<%- include footer %>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
</div>
